{"ast":null,"code":"/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @module Utils\n */\nimport { InvalidBlockError } from 'web3-errors';\nimport { checkAddressCheckSum as checkAddressCheckSumValidator, isAddress as isAddressValidator, isBlockTag, isBloom as isBloomValidator, isContractAddressInBloom as isContractAddressInBloomValidator, isHex as isHexValidator, isHexStrict as isHexStrictValidator, isInBloom as isInBloomValidator, isNullish as isNullishValidator, isTopic as isTopicValidator, isTopicInBloom as isTopicInBloomValidator, isUserEthereumAddressInBloom as isUserEthereumAddressInBloomValidator } from 'web3-validator';\nimport { BlockTags } from 'web3-types';\n/**\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isHexStrict = isHexStrictValidator;\n/**\n * returns true if input is a hexstring, number or bigint\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isHex = isHexValidator;\n/**\n * Checks the checksum of a given address. Will also return false on non-checksum addresses.\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const checkAddressCheckSum = checkAddressCheckSumValidator;\n/**\n * Checks if a given string is a valid Ethereum address. It will also check the checksum, if the address has upper and lowercase letters.\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isAddress = isAddressValidator;\n/**\n * Returns true if the bloom is a valid bloom\n * https://github.com/joshstevens19/ethereum-bloom-filters/blob/fbeb47b70b46243c3963fe1c2988d7461ef17236/src/index.ts#L7\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isBloom = isBloomValidator;\n/**\n * Returns true if the value is part of the given bloom\n * note: false positives are possible.\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isInBloom = isInBloomValidator;\n/**\n * Returns true if the ethereum users address is part of the given bloom note: false positives are possible.\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isUserEthereumAddressInBloom = isUserEthereumAddressInBloomValidator;\n/**\n * Returns true if the contract address is part of the given bloom.\n * note: false positives are possible.\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isContractAddressInBloom = isContractAddressInBloomValidator;\n/**\n * Checks if its a valid topic\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isTopic = isTopicValidator;\n/**\n * Returns true if the topic is part of the given bloom.\n * note: false positives are possible.\n *\n * @deprecated Will be removed in next release. Please use `web3-validator` package instead.\n */\nexport const isTopicInBloom = isTopicInBloomValidator;\n/**\n * Compares between block A and block B\n * @param blockA - Block number or string\n * @param blockB - Block number or string\n *\n * @returns - Returns -1 if a \\< b, returns 1 if a \\> b and returns 0 if a == b\n *\n * @example\n * ```ts\n * console.log(web3.utils.compareBlockNumbers('latest', 'pending'));\n * > -1\n *\n * console.log(web3.utils.compareBlockNumbers(12, 11));\n * > 1\n * ```\n */\nexport const compareBlockNumbers = (blockA, blockB) => {\n  const isABlockTag = typeof blockA === 'string' && isBlockTag(blockA);\n  const isBBlockTag = typeof blockB === 'string' && isBlockTag(blockB);\n  if (blockA === blockB || (blockA === 'earliest' || blockA === 0) && (blockB === 'earliest' || blockB === 0) // only exception compare blocktag with number\n  ) {\n    return 0;\n  }\n  if (blockA === 'earliest' && blockB > 0) {\n    return -1;\n  }\n  if (blockB === 'earliest' && blockA > 0) {\n    return 1;\n  }\n  if (isABlockTag && isBBlockTag) {\n    // Increasing order:  earliest, finalized , safe, latest, pending\n    const tagsOrder = {\n      [BlockTags.EARLIEST]: 1,\n      [BlockTags.FINALIZED]: 2,\n      [BlockTags.SAFE]: 3,\n      [BlockTags.LATEST]: 4,\n      [BlockTags.PENDING]: 5\n    };\n    if (tagsOrder[blockA] < tagsOrder[blockB]) {\n      return -1;\n    }\n    return 1;\n  }\n  if (isABlockTag && !isBBlockTag || !isABlockTag && isBBlockTag) {\n    throw new InvalidBlockError('Cannot compare blocktag with provided non-blocktag input.');\n  }\n  const bigIntA = BigInt(blockA);\n  const bigIntB = BigInt(blockB);\n  if (bigIntA < bigIntB) {\n    return -1;\n  }\n  if (bigIntA === bigIntB) {\n    return 0;\n  }\n  return 1;\n};\nexport const isContractInitOptions = options => typeof options === 'object' && !isNullishValidator(options) && Object.keys(options).length !== 0 && ['input', 'data', 'from', 'gas', 'gasPrice', 'gasLimit', 'address', 'jsonInterface', 'syncWithContext', 'dataInputFill'].some(key => key in options);\nexport const isNullish = isNullishValidator;","map":{"version":3,"names":["InvalidBlockError","checkAddressCheckSum","checkAddressCheckSumValidator","isAddress","isAddressValidator","isBlockTag","isBloom","isBloomValidator","isContractAddressInBloom","isContractAddressInBloomValidator","isHex","isHexValidator","isHexStrict","isHexStrictValidator","isInBloom","isInBloomValidator","isNullish","isNullishValidator","isTopic","isTopicValidator","isTopicInBloom","isTopicInBloomValidator","isUserEthereumAddressInBloom","isUserEthereumAddressInBloomValidator","BlockTags","compareBlockNumbers","blockA","blockB","isABlockTag","isBBlockTag","tagsOrder","EARLIEST","FINALIZED","SAFE","LATEST","PENDING","bigIntA","BigInt","bigIntB","isContractInitOptions","options","Object","keys","length","some","key"],"sources":["../../src/validation.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}