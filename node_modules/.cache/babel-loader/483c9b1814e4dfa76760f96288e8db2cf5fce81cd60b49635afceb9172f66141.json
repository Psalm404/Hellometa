{"ast":null,"code":"import axios from 'axios'; // 用于发送 HTTP 请求\n\n// 调用后端接口存交易哈希\nasync function saveTransactionHash(transactionHash, tokenURI) {\n  try {\n    // 通过交易哈希查询交易记录\n    const apiBaseUrl = process.env.VUE_APP_BACKEND_BASE_URL;\n    const response = await axios.get(`${apiBaseUrl}/getTxIDByTxHash`, {\n      params: {\n        txHash: transactionHash\n      }\n    });\n    const transactionId = response.data.id;\n    if (transactionId) {\n      // 将 ID 和 tokenURI 存入数据库\n      await axios.post(`${apiBaseUrl}/saveTxHash`, {\n        txID: transactionId,\n        tokenURI: tokenURI\n      });\n      console.log('Token URI 保存成功');\n    } else {\n      console.error('未找到交易记录');\n    }\n  } catch (error) {\n    console.error('保存 Token URI 失败', error);\n  }\n}\nexport default saveTransactionHash;","map":{"version":3,"names":["axios","saveTransactionHash","transactionHash","tokenURI","apiBaseUrl","process","env","VUE_APP_BACKEND_BASE_URL","response","get","params","txHash","transactionId","data","id","post","txID","console","log","error"],"sources":["/Users/acciomac/Desktop/repo/Hellometa/src/commons/saveTransactionHash.js"],"sourcesContent":["import axios from 'axios'; // 用于发送 HTTP 请求\n\n// 调用后端接口存交易哈希\nasync function saveTransactionHash(transactionHash, tokenURI) {\n    try {\n        // 通过交易哈希查询交易记录\n        const apiBaseUrl = process.env.VUE_APP_BACKEND_BASE_URL;\n        const response = await axios.get(`${apiBaseUrl}/getTxIDByTxHash`, {\n            params: { txHash: transactionHash }\n        });\n        \n        const transactionId = response.data.id;\n\n        if (transactionId) {\n            // 将 ID 和 tokenURI 存入数据库\n            await axios.post(`${apiBaseUrl}/saveTxHash`, {\n                txID: transactionId,\n                tokenURI: tokenURI,\n            });\n            console.log('Token URI 保存成功');\n        } else {\n            console.error('未找到交易记录');\n        }\n    } catch (error) {\n        console.error('保存 Token URI 失败', error);\n    }\n}\n\nexport default saveTransactionHash;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B;AACA,eAAeC,mBAAmBA,CAACC,eAAe,EAAEC,QAAQ,EAAE;EAC1D,IAAI;IACA;IACA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB;IACvD,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGL,UAAU,kBAAkB,EAAE;MAC9DM,MAAM,EAAE;QAAEC,MAAM,EAAET;MAAgB;IACtC,CAAC,CAAC;IAEF,MAAMU,aAAa,GAAGJ,QAAQ,CAACK,IAAI,CAACC,EAAE;IAEtC,IAAIF,aAAa,EAAE;MACf;MACA,MAAMZ,KAAK,CAACe,IAAI,CAAC,GAAGX,UAAU,aAAa,EAAE;QACzCY,IAAI,EAAEJ,aAAa;QACnBT,QAAQ,EAAEA;MACd,CAAC,CAAC;MACFc,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IACjC,CAAC,MAAM;MACHD,OAAO,CAACE,KAAK,CAAC,SAAS,CAAC;IAC5B;EACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;EAC3C;AACJ;AAEA,eAAelB,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}