{"ast":null,"code":"/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { ResponseError } from \"web3-errors\";\nimport { Transport, Network } from \"./types.js\";\nimport { Web3ExternalProvider } from \"./web3_provider.js\";\nimport { QuickNodeRateLimitError } from \"./errors.js\";\nconst isValid = str => str !== undefined && str.trim().length > 0;\nexport class QuickNodeProvider extends Web3ExternalProvider {\n  // eslint-disable-next-line default-param-last\n  constructor(network = Network.ETH_MAINNET, transport = Transport.HTTPS, token = \"\", host = \"\", providerConfigOptions) {\n    super(network, transport, token, host, providerConfigOptions);\n  }\n  request(payload, requestOptions) {\n    const _super = Object.create(null, {\n      request: {\n        get: () => super.request\n      }\n    });\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        return yield _super.request.call(this, payload, requestOptions);\n      } catch (error) {\n        if (error instanceof ResponseError && error.statusCode === 429) {\n          throw new QuickNodeRateLimitError(error);\n        }\n        throw error;\n      }\n    });\n  }\n  // eslint-disable-next-line class-methods-use-this\n  getRPCURL(network, transport, _token, _host) {\n    let host = \"\";\n    let token = \"\";\n    switch (network) {\n      case Network.ETH_MAINNET:\n        host = isValid(_host) ? _host : \"powerful-holy-bush.quiknode.pro\";\n        token = isValid(_token) ? _token : \"3240624a343867035925ff7561eb60dfdba2a668\";\n        break;\n      case Network.ETH_SEPOLIA:\n        host = isValid(_host) ? _host : \"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro\";\n        token = isValid(_token) ? _token : \"382a3b5a4b938f2d6e8686c19af4b22921fde2cd\";\n        break;\n      case Network.ETH_HOLESKY:\n        host = isValid(_host) ? _host : \"yolo-morning-card.ethereum-holesky.quiknode.pro\";\n        token = isValid(_token) ? _token : \"481ebe70638c4dcf176af617a16d02ab866b9af9\";\n        break;\n      case Network.ARBITRUM_MAINNET:\n        host = isValid(_host) ? _host : \"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro\";\n        token = isValid(_token) ? _token : \"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c\";\n        break;\n      case Network.ARBITRUM_SEPOLIA:\n        host = isValid(_host) ? _host : \"few-patient-pond.arbitrum-sepolia.quiknode.pro\";\n        token = isValid(_token) ? _token : \"3be985450970628c860b959c65cd2642dcafe53c\";\n        break;\n      case Network.BNB_MAINNET:\n        host = isValid(_host) ? _host : \"purple-empty-reel.bsc.quiknode.pro\";\n        token = isValid(_token) ? _token : \"ebf6c532961e21f092ff2facce1ec4c89c540158\";\n        break;\n      case Network.BNB_TESTNET:\n        host = isValid(_host) ? _host : \"floral-rough-scion.bsc-testnet.quiknode.pro\";\n        token = isValid(_token) ? _token : \"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28\";\n        break;\n      case Network.POLYGON_MAINNET:\n        host = isValid(_host) ? _host : \"small-chaotic-moon.matic.quiknode.pro\";\n        token = isValid(_token) ? _token : \"847569f8a017e84d985e10d0f44365d965a951f1\";\n        break;\n      case Network.POLYGON_AMONY:\n        host = isValid(_host) ? _host : \"prettiest-side-shape.matic-amoy.quiknode.pro\";\n        token = isValid(_token) ? _token : \"79a9476eea661d4f82de614db1d8a895b14b881c\";\n        break;\n      default:\n        throw new Error(\"Network info not avalible.\");\n    }\n    return `${transport}://${host}/${token}`;\n  }\n}","map":{"version":3,"names":["ResponseError","Transport","Network","Web3ExternalProvider","QuickNodeRateLimitError","isValid","str","undefined","trim","length","QuickNodeProvider","constructor","network","ETH_MAINNET","transport","HTTPS","token","host","providerConfigOptions","request","payload","requestOptions","_super","call","error","statusCode","getRPCURL","_token","_host","ETH_SEPOLIA","ETH_HOLESKY","ARBITRUM_MAINNET","ARBITRUM_SEPOLIA","BNB_MAINNET","BNB_TESTNET","POLYGON_MAINNET","POLYGON_AMONY","Error"],"sources":["../../src/web3_provider_quicknode.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}