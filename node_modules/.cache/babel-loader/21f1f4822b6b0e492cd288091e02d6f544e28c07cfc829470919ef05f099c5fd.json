{"ast":null,"code":"// 路由配置文件\n\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport myAccount from './components/myAccount.vue';\nimport uploadWorks from './components/uploadWorks.vue';\nimport recordWorks from './components/recordWorks.vue';\nimport exhibitWorks from './components/exhibitWorks.vue';\nimport workDetails from './components/workDetails.vue';\nimport workInfo from './components/workInfo.vue';\nimport homePage from './components/userHomePage.vue';\n// import blockBrowser from './components/原blockBrowser.vue'\nimport transactionDetail from './components/transactionDetail.vue';\nimport loginPage from './components/loginPage.vue';\nimport registerPage from './components/registerPage.vue';\nimport userIntroPage from './components/userIntroPage.vue';\nimport guestIntroPage from './components/guestIntroPage.vue';\nimport editProfile from './components/editProfile.vue';\nimport guidePage from './components/guidePage.vue';\nimport myGas from './components/myGas.vue';\nimport gasRecharge from './components/gasRecharge.vue';\nimport store from './store.js';\nVue.use(VueRouter);\nconst router = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/intro'\n  }, {\n    path: '/register',\n    component: registerPage\n  }, {\n    path: '/login',\n    component: loginPage\n  }, {\n    path: '/home',\n    component: homePage\n  }, {\n    path: '/editProfile',\n    component: editProfile\n  }, {\n    path: '/intro',\n    component: guestIntroPage\n  }, {\n    path: '/blockBrowse',\n    component: userIntroPage\n  }, {\n    path: '/blockBrowse/transactionDetail',\n    component: transactionDetail\n  }, {\n    path: '/uploadWorks',\n    name: 'uploadWorks',\n    component: uploadWorks,\n    meta: {\n      requiresAccountMatch: true\n    }\n  }, {\n    path: '/recordWorks',\n    name: 'recordWorks',\n    component: recordWorks,\n    meta: {\n      requiresAccountMatch: true\n    }\n  }, {\n    path: '/exhibitWorks',\n    component: exhibitWorks\n  }, {\n    path: '/workDetails',\n    component: workDetails\n  }, {\n    path: '/workInfo',\n    component: workInfo\n  },\n  // {\n  //   path: '/blockBrowser',\n  //   component:blockBrowser\n  // },\n  {\n    path: '/myAccount',\n    component: myAccount\n  }, {\n    path: '/myGas',\n    component: myGas\n  }, {\n    path: '/myGas/gasRecharge',\n    component: gasRecharge\n  }, {\n    path: '/guidePage',\n    component: guidePage\n  }]\n});\n\n// router.beforeEach((to, from, next) => {\n//   if (to.matched.some(record => record.meta.requiresAccountMatch)) {\n//       if (!store.state.isAccountMatched) {\n//           // 如果账户不匹配，阻止导航并重定向\n//           next('/home'); // 或者您想重定向的其他页面\n//       } else {\n//           next(); // 账户匹配，允许导航\n//       }\n//   } else {\n//       next(); // 无需检查，允许导航\n//   }\n// });\n\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.state.isLoggedIn;\n  if (!isLoggedIn && to.path !== '/intro') {\n    next('/intro');\n  } else {\n    // 如果目标路由需要账户匹配验证\n    if (to.matched.some(record => record.meta.requiresAccountMatch)) {\n      if (!store.state.isAccountMatched) {\n        // 如果账户不匹配，阻止导航并重定向\n        next('/home'); // 或者您想重定向的其他页面\n      } else {\n        next(); // 账户匹配，允许导航\n      }\n    } else {\n      next(); // 无需检查，允许导航\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","myAccount","uploadWorks","recordWorks","exhibitWorks","workDetails","workInfo","homePage","transactionDetail","loginPage","registerPage","userIntroPage","guestIntroPage","editProfile","guidePage","myGas","gasRecharge","store","use","router","routes","path","redirect","component","name","meta","requiresAccountMatch","beforeEach","to","from","next","isLoggedIn","state","matched","some","record","isAccountMatched"],"sources":["D:/my-repo/hellometa/src/index.js"],"sourcesContent":["// 路由配置文件\r\n\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport myAccount from './components/myAccount.vue'\r\nimport uploadWorks from './components/uploadWorks.vue'\r\nimport recordWorks from './components/recordWorks.vue'\r\nimport exhibitWorks from './components/exhibitWorks.vue'\r\nimport workDetails from './components/workDetails.vue'\r\nimport workInfo from './components/workInfo.vue'\r\nimport homePage from './components/userHomePage.vue'\r\n// import blockBrowser from './components/原blockBrowser.vue'\r\nimport transactionDetail from './components/transactionDetail.vue'\r\nimport loginPage from './components/loginPage.vue'\r\nimport registerPage from './components/registerPage.vue'\r\nimport userIntroPage from './components/userIntroPage.vue'\r\nimport guestIntroPage from './components/guestIntroPage.vue'\r\nimport editProfile from './components/editProfile.vue'\r\nimport guidePage from './components/guidePage.vue'\r\nimport myGas from './components/myGas.vue'\r\nimport gasRecharge from './components/gasRecharge.vue'\r\n\r\nimport store from './store.js';\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n routes:[\r\n      {\r\n        path: '/',\r\n        redirect: '/intro'\r\n      },\r\n      {\r\n        path:'/register',\r\n        component: registerPage\r\n      },\r\n      {\r\n        path:'/login',\r\n        component: loginPage\r\n      },\r\n      {\r\n        path: '/home',\r\n        component: homePage\r\n      },\r\n      {\r\n        path:'/editProfile',\r\n        component: editProfile\r\n      },\r\n      {\r\n        path: '/intro',\r\n        component: guestIntroPage\r\n      },\r\n      {\r\n        path: '/blockBrowse',\r\n        component: userIntroPage\r\n      },\r\n      {\r\n        path: '/blockBrowse/transactionDetail',\r\n        component:transactionDetail\r\n      },\r\n      {\r\n        path: '/uploadWorks',\r\n        name: 'uploadWorks',\r\n        component: uploadWorks,\r\n        meta: { requiresAccountMatch: true },\r\n      },\r\n      {\r\n        path: '/recordWorks',\r\n        name: 'recordWorks',\r\n        component: recordWorks,\r\n        meta: { requiresAccountMatch: true },\r\n      },\r\n      {\r\n        path:'/exhibitWorks',\r\n        component:exhibitWorks\r\n      },\r\n      {\r\n        path:'/workDetails',\r\n        component:workDetails\r\n      },\r\n      {\r\n        path:'/workInfo',\r\n        component:workInfo\r\n      },\r\n      // {\r\n      //   path: '/blockBrowser',\r\n      //   component:blockBrowser\r\n      // },\r\n      {\r\n        path: '/myAccount',\r\n        component:myAccount\r\n      },\r\n      {\r\n        path:'/myGas',\r\n        component:myGas\r\n      },\r\n      {\r\n        path:'/myGas/gasRecharge',\r\n        component:gasRecharge,\r\n      },\r\n      {\r\n        path:'/guidePage',\r\n        component:guidePage,\r\n      }\r\n ]\r\n})\r\n\r\n// router.beforeEach((to, from, next) => {\r\n//   if (to.matched.some(record => record.meta.requiresAccountMatch)) {\r\n//       if (!store.state.isAccountMatched) {\r\n//           // 如果账户不匹配，阻止导航并重定向\r\n//           next('/home'); // 或者您想重定向的其他页面\r\n//       } else {\r\n//           next(); // 账户匹配，允许导航\r\n//       }\r\n//   } else {\r\n//       next(); // 无需检查，允许导航\r\n//   }\r\n// });\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const isLoggedIn = store.state.isLoggedIn;\r\n\r\n  if (!isLoggedIn && to.path !== '/intro') {\r\n    next('/intro');\r\n  } else {\r\n    // 如果目标路由需要账户匹配验证\r\n    if (to.matched.some(record => record.meta.requiresAccountMatch)) {\r\n      if (!store.state.isAccountMatched) {\r\n        // 如果账户不匹配，阻止导航并重定向\r\n        next('/home'); // 或者您想重定向的其他页面\r\n      } else {\r\n        next(); // 账户匹配，允许导航\r\n      }\r\n    } else {\r\n      next(); // 无需检查，允许导航\r\n    }\r\n  }\r\n});\r\n\r\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}