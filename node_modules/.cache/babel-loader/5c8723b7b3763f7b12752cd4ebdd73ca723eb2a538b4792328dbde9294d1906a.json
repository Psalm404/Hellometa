{"ast":null,"code":"/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nimport { sha3Raw } from 'web3-utils';\n// eslint-disable-next-line camelcase\nimport { ens_normalize } from '@adraffy/ens-normalize';\nexport const normalize = name => ens_normalize(name);\nexport const namehash = inputName => {\n  // Reject empty names:\n  let node = '';\n  for (let i = 0; i < 32; i += 1) {\n    node += '00';\n  }\n  if (inputName) {\n    const name = normalize(inputName);\n    const labels = name.split('.');\n    for (let i = labels.length - 1; i >= 0; i -= 1) {\n      const labelSha = sha3Raw(labels[i]).slice(2);\n      node = sha3Raw(`0x${node}${labelSha}`).slice(2);\n    }\n  }\n  return `0x${node}`;\n};","map":{"version":3,"names":["sha3Raw","ens_normalize","normalize","name","namehash","inputName","node","i","labels","split","length","labelSha","slice"],"sources":["../../src/utils.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;;;;;;;;;;;;AAiBA,SAASA,OAAO,QAAQ,YAAY;AACpC;AACA,SAASC,aAAa,QAAQ,wBAAwB;AAEtD,OAAO,MAAMC,SAAS,GAAIC,IAAY,IAAKF,aAAa,CAACE,IAAI,CAAC;AAE9D,OAAO,MAAMC,QAAQ,GAAIC,SAAiB,IAAI;EAC7C;EACA,IAAIC,IAAI,GAAG,EAAE;EACb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAE;IAC/BD,IAAI,IAAI,IAAI;;EAGb,IAAID,SAAS,EAAE;IACd,MAAMF,IAAI,GAAGD,SAAS,CAACG,SAAS,CAAC;IACjC,MAAMG,MAAM,GAAGL,IAAI,CAACM,KAAK,CAAC,GAAG,CAAC;IAE9B,KAAK,IAAIF,CAAC,GAAGC,MAAM,CAACE,MAAM,GAAG,CAAC,EAAEH,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;MAC/C,MAAMI,QAAQ,GAAGX,OAAO,CAACQ,MAAM,CAACD,CAAC,CAAC,CAAC,CAACK,KAAK,CAAC,CAAC,CAAC;MAC5CN,IAAI,GAAGN,OAAO,CAAC,KAAKM,IAAI,GAAGK,QAAQ,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;;;EAIjD,OAAO,KAAKN,IAAI,EAAE;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}