{"ast":null,"code":"import axios from 'axios'; // 用于发送 HTTP 请求\n\n// 通过调用后端开放的接口\nasync function saveTransactionHash(transactionHash, tokenURI) {\n  try {\n    // 通过交易哈希查询交易记录\n    const response = await axios.get('/api/getTxIDByTxHash', {\n      params: {\n        txHash: transactionHash\n      }\n    });\n    const transactionId = response.data.ID;\n    if (transactionId) {\n      // 将 ID 和 tokenURI 存入数据库\n      await axios.post('/api/saveTxHash', {\n        txID: transactionId,\n        tokenURI: tokenURI\n      });\n      console.log('Token URI 保存成功');\n    } else {\n      console.error('未找到交易记录');\n    }\n  } catch (error) {\n    console.error('保存 Token URI 失败', error);\n  }\n}\nexport default saveTransactionHash;","map":{"version":3,"names":["axios","saveTransactionHash","transactionHash","tokenURI","response","get","params","txHash","transactionId","data","ID","post","txID","console","log","error"],"sources":["D:/my-repo/hellometa/src/commons/saveTransactionHash.js"],"sourcesContent":["import axios from 'axios'; // 用于发送 HTTP 请求\r\n\r\n// 通过调用后端开放的接口\r\nasync function saveTransactionHash(transactionHash, tokenURI) {\r\n    try {\r\n        // 通过交易哈希查询交易记录\r\n        const response = await axios.get('/api/getTxIDByTxHash', {\r\n            params: { txHash: transactionHash }\r\n        });\r\n        \r\n        const transactionId = response.data.ID;\r\n\r\n        if (transactionId) {\r\n            // 将 ID 和 tokenURI 存入数据库\r\n            await axios.post('/api/saveTxHash', {\r\n                txID: transactionId,\r\n                tokenURI: tokenURI,\r\n            });\r\n            console.log('Token URI 保存成功');\r\n        } else {\r\n            console.error('未找到交易记录');\r\n        }\r\n    } catch (error) {\r\n        console.error('保存 Token URI 失败', error);\r\n    }\r\n}\r\n\r\nexport default saveTransactionHash;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B;AACA,eAAeC,mBAAmBA,CAACC,eAAe,EAAEC,QAAQ,EAAE;EAC1D,IAAI;IACA;IACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,sBAAsB,EAAE;MACrDC,MAAM,EAAE;QAAEC,MAAM,EAAEL;MAAgB;IACtC,CAAC,CAAC;IAEF,MAAMM,aAAa,GAAGJ,QAAQ,CAACK,IAAI,CAACC,EAAE;IAEtC,IAAIF,aAAa,EAAE;MACf;MACA,MAAMR,KAAK,CAACW,IAAI,CAAC,iBAAiB,EAAE;QAChCC,IAAI,EAAEJ,aAAa;QACnBL,QAAQ,EAAEA;MACd,CAAC,CAAC;MACFU,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IACjC,CAAC,MAAM;MACHD,OAAO,CAACE,KAAK,CAAC,SAAS,CAAC;IAC5B;EACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;EAC3C;AACJ;AAEA,eAAed,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}