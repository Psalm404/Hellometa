{"ast":null,"code":"/*\r\nburn.js 提供销毁代币的方法\r\n需要一个传参：tokenId 需要销毁的NFT的tokenId\r\n无返回值\r\n*/\n\nimport contract from './contract';\nimport { getAccountAddr } from './getAccountAddr';\nasync function burn(tokenId) {\n  try {\n    if (!contract) {\n      console.error('合约实例尚未初始化');\n      throw new Error('Contract not initialized');\n    }\n\n    // 合约调用者的地址\n    const addr = await getAccountAddr();\n    console.log(addr);\n    // 调用合约的 burn 函数\n    const transaction = await contract.methods.burn(tokenId).send({\n      from: addr\n    });\n    console.log('代币销毁成功');\n    return transaction;\n  } catch (error) {\n    console.error('代币销毁失败', error);\n    throw error; // 重新抛出错误，以便在调用该函数时可以捕获并处理\n  }\n}\nexport default burn;","map":{"version":3,"names":["contract","getAccountAddr","burn","tokenId","console","error","Error","addr","log","transaction","methods","send","from"],"sources":["D:/my-repo/hellometa/src/commons/burn.js"],"sourcesContent":["/*\r\nburn.js 提供销毁代币的方法\r\n需要一个传参：tokenId 需要销毁的NFT的tokenId\r\n无返回值\r\n*/\r\n\r\n\r\nimport contract from './contract';\r\nimport { getAccountAddr } from './getAccountAddr';\r\n\r\nasync function burn(tokenId) {\r\n    try {\r\n        if (!contract) {\r\n            console.error('合约实例尚未初始化');\r\n            throw new Error('Contract not initialized');\r\n        }\r\n\r\n        // 合约调用者的地址\r\n        const addr = await getAccountAddr();\r\n        console.log(addr);\r\n        // 调用合约的 burn 函数\r\n        const transaction = await contract.methods.burn(tokenId).send({ from: addr });\r\n        console.log('代币销毁成功');\r\n        return transaction;\r\n    } catch (error) {\r\n        console.error('代币销毁失败', error);\r\n        throw error; // 重新抛出错误，以便在调用该函数时可以捕获并处理\r\n    }\r\n}\r\n\r\nexport default burn;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAGA,OAAOA,QAAQ,MAAM,YAAY;AACjC,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,eAAeC,IAAIA,CAACC,OAAO,EAAE;EACzB,IAAI;IACA,IAAI,CAACH,QAAQ,EAAE;MACXI,OAAO,CAACC,KAAK,CAAC,WAAW,CAAC;MAC1B,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC/C;;IAEA;IACA,MAAMC,IAAI,GAAG,MAAMN,cAAc,CAAC,CAAC;IACnCG,OAAO,CAACI,GAAG,CAACD,IAAI,CAAC;IACjB;IACA,MAAME,WAAW,GAAG,MAAMT,QAAQ,CAACU,OAAO,CAACR,IAAI,CAACC,OAAO,CAAC,CAACQ,IAAI,CAAC;MAAEC,IAAI,EAAEL;IAAK,CAAC,CAAC;IAC7EH,OAAO,CAACI,GAAG,CAAC,QAAQ,CAAC;IACrB,OAAOC,WAAW;EACtB,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZD,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,MAAMA,KAAK,CAAC,CAAC;EACjB;AACJ;AAEA,eAAeH,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}